1 File management System

OS store and manage data on disk or partitions using a structure called Filesystem

FileSystem includes files, directories and it's rekated permissions

Unorganized      Organized

It stores data in hierarchy of durectories and files.

Location/path format

> Windows
  . C:\Program Files\Java

> Linux 
  . /etc/folder

Types of File System 
  > ext3
  > ext4
  > XFS
    . {Ubuntu, Debian, Fedoram CentOs, RedHat}
  > BtrFS (B-tree FS)
    . [OpenSUSE and SUSE Linux Enterprise Server]
  > FAT

  How to check your Linux FileSystem ?

     > lsblk -f
     > df -Th
     > cat/etc/fstab

XFS vs ext4

  > XFS
    . Optimized for large files and volumes, offering superior performance and scalability
  
  > ext4
    . performance well across various file sizes but less efficient with extremely large files

For High-throughput and extensive parallel processing capabilities, XFS is typically more effective than ext4

What in inode ?

   An inode in Linux is a data structure that stores metadata about a file or directory.

   The filesystem uses the inode number to locate the inode, which then contains pointers to the data blocks
where the actual file data is stored.

   / (root) directory

The Linux filesystem starts at the root directory, denoted by a single slash (/), from which all other files and directories branch out.

> /bin: Contains essential user binaries (executables), such as common commands like ls, cp , etc.

> /etc: Holds system configuration files
   Ex: User, Network, Services, System Apps
  
> /home: Contains the personal directories of all users.

> /root: The home directory for the root user (administrator)

> /var: Where variable data such as logs and databases are stored.

> /tmp: Temporary files created by system and users . 

 less /etc/passwd

> /boot - Holds files needed for system boot-up, including the Linux kernel, an initial RAM disk image, bootloader configuration (like GRUB).

> /dev - This directory contains files which represent and provide access to hardware devices such as hard drives, sound devices etc.

> /lib,/lib64 - These directories contain essential shared libraries and kernel modules that are needed to boot the system and run the commands in the root filesystem. The /lib64 directory exists on systems that support 64-bit applications

> /media - This is the mount point for removable media such as USB drives. CD-ROMs,etc. When these devices are mounted, typically, directories corresponding to their mount points are created within /media. 

> /mnt - Similar to /media, this is a traditional mount point where system administrators can mount Temporary filesystems while using or configuring them.

> /opt - Intended for the installation of add-on appliction software packages. Large software packages that are not part of the default installation can be placed here to avoid cluttering the system directories.

> /proc - A virtual and dynamic directory as it only exists in memory. It does not use disk space. It contains information about system resources, hardware, and running processes. It,s a pseudo-filesystem then provides an interface to kernel data structures.

> /run - A Temporary filesystem that stores transient state files, like process IDs or lock files, since it is cleared and recreated at every boot.

> /sbin - Contains binary (executable) files that are mostly needed by the system administrator. These include system management commands like fdisk, shutdown,ip,etc.

> /srv - Contains data which servers hosted on the system may need, such as web pages served by a web server.

> /sys - Similar to / proc, this is another virtual filesystem that provides an interface to the kernal. It contains information and settings about the system's devices, drivers, and some kernal features

> /usr - Considered the secondary hierarchy because it contain all user applications and a variety of other things for day-to-day operations, including libraries, documebtations, and much more. Subdirectories include /usr/bin,/usr/sbin,/usr/local, and /usr/share, among others.

2. Linux Packages management

 Topics  

> What is package management ?
> Packages management tools 
   . yum
   . dnf
   . rpm
   . apt 
> Difference between Upgrade or Update ?
> Rollback the patches or updates

Packages management
   
   It's all about packages

     > Installing
     > Upgrading
     > Deleting
     > View Packages Info 
     > Packages config

> manage software using YUM/DNF and RPM for your Red Hat-based Linux systems like CentOs

> APT for Debian and based, Ubuntu, Kali Linux etc

YUM YELLOW-DOG UPDATER MODUFIED

> YUM is the primary package management tool for redhat .

> YUM performs dependency resolution when installing, updating, and removing software packages .

> YUM can manage package from installed repositories in the system or from . rpm packages.

. How to install and remove a package
   # yum install nginx -y
   # yum remove nginx

. How to upgrade and update a package
   # yum upgrade package
   # yum update package

> What is the difference between
  yum Update & Upgrade

Upgrade: Will delete the old Packages
Update: Keep the old packages, we can rollback

YUM COMMANDS

> you can see all the options using
  # yum -option

> To check the available updates for packages
  # yum check-update

package RollBack 

> To see the past work done related to package, which will show you the activity with date and time
  # yum history

> We can simply undo or redo any action using
  # yum history undo/redo <id>

RPM REDHAT PACKAGE MANAGER

> Using RPM, you can install, uninstall, and query individual software packages.

> Issue: It cannot manage dependency resolution like YUM

> RPM maintains a database of installed packages, which enables powerful and fast queries.

 RPM 

 > To install, upgrade or delete an . rpm package using RPM,

    # rpm -i package-file
    # rpm -U package-file

    # rpm -ivh package-file
    # rpm -evh package-file

  (v-verbose, h for hash to show progress)

> To query all the installed package
  # rpm -qa

> More info about the package
  # rpm -qi <package_name>

> Info about config files for a packages
  # rpm -qc <package_name>

DNF DANDIFIED YUM

From Redhat/Centos 8

  > sudo dnf list available
  > sudo dnf list installed

  > sudo dnf update/upgrade
  > sudo dnf install package.name
  > sudo dnf remove package.name

  > sudo dnf info package.name
  > sudo dnf search package

  APT 

  For Ubuntu

  > apt install package_name
  > apt remove  package_name

  > apt autoremove (to remove the dependencies)

  > apt update (to update the repo)
  > apt-cache search apache

3. Logs Analysis & Monitoring

  What are log files ?

  A log file stores events, processes, messages, and other data from applications, operating systems, or devices.

  They provide information based on the actions performed by users, playing an important role in monitoring

  Log directory in Linux

     /var/log

  log file

    > boot
    > chron
    > secure
    > maillog
    > httpd
    > messages

4. Files Permissions

How to check permissions of a file ?
   # ls -ltr

drwxr-xr-x. 2 paul paul 64 Feb 8 17:02 Downloads
-rw-r--r--. 1 paul paul 0 Feb  10 12:16 paulfile
-rwxr-xr-x. 1 paul paul 24 Apr 13 16:20 test.sh

Each permission set can contain four basic representations:

>  r means that the file is readable.
>  w means that the file is writable.
>  x means that the file is executable(you can run it as a program).
>  - means "nothing" (more specifically, the permission for that slot in the set has not been granted).


How to modify permissions of a file ?

   # chmod a+rwx file.txt

   u mean user
   g mean group
   o mean other
   a mean all

   #  chmod o+w rfile.txt

   # chmod u+x file.txt
   # chmod g-w file.txt
   # chmod u=rwx, g=rw, o=r file.txt

   Recursively updates the file permissions

   # chomd -R u+x mydir

   - R will change permission of directory and files inside it

   Numeric (Octal) Method 

How to modify permissions of a file ?

   # chmod 777 file.txt
   # chmod 644 file.txt

Different supported no.

  > 0: No permission.
  > 1: Execute only.
  > 2: Write only.
  > 3: Write and execute (1+2).
  > 4: Read only.
  > 5: Read and execute (4+1).
  > 6: Read and write (4+2).
  > 7: Read, write, and execute (4+2+1).

Manage OwnerShip

Using CHOWN
   
   # chown user:group filename
   # chown paul: QA file.txt

Using CHGRP
   
   # chgrp group filename

5. Basic networking concepts (IP addressing, ping, netstat, ss)

# ping www.google.com
# ping 127.0.0.1
# netstat
# arp
# arp -a
# ping 255.255.255.255
# pathping www.google.com
# tracert www.google.com
# nslookup 

whois.com

# ipconfig
# ipconfig -a
# route
# route print
# hostname
# getmac
# nbtstat
# nbtstat -n
# nbtstat -s
# tasklist
# taskkill /PID 2996
# systeminfo
# netsh

# netsh > ?

# net view 
# net share
# wmic
# wmic bios get smbiosbiosversion 
# msinfo32

6. ps (process status)
used to display all running process in the linux system.

# ps
 
 syntax:

 ps [OPTIONS]
 ps - Shows the process of current shell

 PID - unique process ID
 TTY - terminal type of user logged in to
 TIME - amount of CPU in min and sec that process has been running
 CMD = name of the command that launched the process

Most widely used command
To see all the running process
# ps -e
# ps -A 

# ps -ef (for full format)

To see all the running process in BSD (Berkeley Software Distribution) format

ldeally it gives you more information

# ps aux
# ps -ef | grep httpd 
# systemctl status httpd
# ps -ef | grep java

To see the process by username

# ps -u <user_name>
# ps -G <group_name>
# ps -u root

To see the process tree

# ps -ejH

7. Linux Service Management Using SYSTEMCTL Command 

SYSTEMCTL

What is systemctl ?

It is used to control the status of teh services Control systemd system.

Example: # systemctl status <service_name>

# sudo systemctl start/stop <service_name>

> Start or stop a service.

To Check the status
# sudo systemctl status <service_name>

To restart the service
# sudo systemctl restart <service_name>


sudo systemctl enable <service_name>

> Enabling a service causes the system to start the service upon reboot or whenever a computer starts up.
> The enable subcommand does not start the particular service immediately.
> you need admin rights

To enable and start at same time
# sudo systemctl enable --now sshd

To check if a service is enabled ?
# sudo systemctl is-enabled sshd

# sudo systemctl disable <service_name>

> Disabling a service
> One can manually start the service

To prevent the service to start 
# sudo systemctl| mask <service_name>

To check if a service is enabled ?
sudo systemctl unmask <service_name>

Computer Control commands

# systemctl poweroff

# systemctl reboot
# systemctl -i reboot (ignoring logged-in users)

To List the sockets in memory available for interporcess communication (IPC)

# systemctl list-sockets
# systemctl --show-types list-sockets

# systemctl --show-type list-sockets 'systemd*'
# systemctl --show-type list-sockets --all

Task for you 

> Check the status of the service
> Stop the service and recheck the status
> Disable the service, reboot the system and confirm if the service didn't start
> Enable the service, reboot the system and confirm if the service started
> Stop the service and mask it and try startung it to check if it is successfull ?  


GREP COMMAND 

"Global Regular Expression Print"

Grep command search for a particular string/keyword from a file and print lines matching a pattern,

It check line by line and print lines matching given pattern.

We can use grep anywhere like with files, searching for file, directories etc

grep command syntax

grep [OPTION].. Pattern [File]

Case1

To ignore the upper and lower case while searching

# grep -i "keyword" file

Case2

To search everything except given pattern/keyword

# grep -v "keyword" file           

Case3

To print how many times (count) given keyword present in file 

# grep -c "keyword" file

Case4

To search for exact match of given keyword in a file

# grep -w "keyword" file

Case5

To print the line no. of matches of given keyword in a file

# grep -n "keyword" file

Case6

To search a given keyword in multiple files

# grep "keyword" file1 file2...

Note: By default result of multiple files shows file name in output .

Case7

To suppress file names while search a give keyword in multiple files

# grep -h "keyword" file1 file2...

